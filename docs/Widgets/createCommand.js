import defaultValue from"../Core/defaultValue.js";import defined from"../Core/defined.js";import DeveloperError from"../Core/DeveloperError.js";import Event from"../Core/Event.js";import knockout from"../ThirdParty/knockout.js";function createCommand(e,r){if(!defined(e))throw new DeveloperError("func is required.");r=defaultValue(r,!0);const t=new Event,o=new Event;function n(){if(!n.canExecute)throw new DeveloperError("Cannot execute command, canExecute is false.");const r={args:arguments,cancel:!1};let a;return t.raiseEvent(r),r.cancel||(a=e.apply(null,arguments),o.raiseEvent(a)),a}return n.canExecute=r,knockout.track(n,["canExecute"]),Object.defineProperties(n,{beforeExecute:{value:t},afterExecute:{value:o}}),n}export default createCommand;