import Color from"../../Core/Color.js";import defined from"../../Core/defined.js";import JulianDate from"../../Core/JulianDate.js";function TimelineTrack(t,e,i,a){this.interval=t,this.height=e,this.color=i||new Color(.5,.5,.5,1),this.backgroundColor=a||new Color(0,0,0,0)}TimelineTrack.prototype.render=function(t,e){const i=this.interval.start,a=this.interval.stop,r=e.startJulian,l=JulianDate.addSeconds(e.startJulian,e.duration,new JulianDate);if(JulianDate.lessThan(i,r)&&JulianDate.greaterThan(a,l))t.fillStyle=this.color.toCssColorString(),t.fillRect(0,e.y,e.timeBarWidth,this.height);else if(JulianDate.lessThanOrEquals(i,l)&&JulianDate.greaterThanOrEquals(a,r)){let r,l,n;for(r=0;r<e.timeBarWidth;++r){const t=JulianDate.addSeconds(e.startJulian,r/e.timeBarWidth*e.duration,new JulianDate);!defined(l)&&JulianDate.greaterThanOrEquals(t,i)?l=r:!defined(n)&&JulianDate.greaterThanOrEquals(t,a)&&(n=r)}t.fillStyle=this.backgroundColor.toCssColorString(),t.fillRect(0,e.y,e.timeBarWidth,this.height),defined(l)&&(defined(n)||(n=e.timeBarWidth),t.fillStyle=this.color.toCssColorString(),t.fillRect(l,e.y,Math.max(n-l,1),this.height))}};export default TimelineTrack;